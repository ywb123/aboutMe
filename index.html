<html>
<head>
<link rel="bookmark"  type="image/x-icon"  href="images/index.ico"/>
<link rel="shortcut icon" href="images/index.ico">
<title>ywb</title>
<script type="text/javascript" src="js/common/jquery-1.8.0.min.js"></script>
<script type="text/javascript" src="js/common/jquery.color.js"></script>
<script type="text/javascript">
var distancex=1000;
var distancey=600;
$(document).ready(function(){
	$('.header_one_div').css({left:Math.random()*distancex+'px',top:Math.random()*distancey+'px'});
	go('weiboDiv','+','+',3000);
	go('hupuDiv','+','+',3000);
	go('zhihuDiv','+','+',3000);
	
	go('githubDiv','+','+',3000);
	go('resumeDiv','+','+',3000);
	go('indexDiv','+','+',3000);
	$('.header_one_div').hover(function(){
		$(this).stop(true);
	},function(){
		go($(this).attr('id'),'+','+',3000);
	});
	
	colorChange('body','#000',10000);
	
	colorChange('#weiboDiv a','#F00',10000);
	colorChange('#hupuDiv a','#0F0',10000);
	colorChange('#zhihuDiv a','#00F',10000);
	
	colorChange('#githubDiv a','#F00',10000);
	colorChange('#resumeDiv a','#0F0',10000);
	colorChange('#indexDiv a','#00F',10000);
	
	
	var canvas = document.getElementById("c");
		var ctx = canvas.getContext("2d");
		var c = $("#c");
		var x,y,w,h,cx,cy,l;
		var y = [];
		var b = {
			n:100,
			c:false,    //  颜色  如果是false 则是随机渐变颜色
			bc:'#000',   //  背景颜色
			r:0.5, 			//圆圈大小
			o:0.02,			//速度
			a:1,
			s:20,
		}
		var bx = 0,by = 0,vx = 0,vy = 0;
		var td = 0;
		var p = 0;
		var hs = 0;
		re();
		var color,color2;
		if(b.c){
			color2 = b.c;
		}else{
			color = Math.random()*360;
		}
		
		$(window).resize(function(){
			re();
		});
		var tp1=true,tp2 = false,tp3 = false,tp4 = false,tp5 = false,tp6 = false,tp7 = false,tp8 = false,tp9 = false,tp0 = false;
		function begin(){
			if(!b.c){
				color+=.1;
				color2 = 'hsl('+color+',100%,80%)';
			}
			ctx.globalAlpha = 1;
			ctx.fillStyle = b.bc;//$('body').css('background-color');
			ctx.fillRect(0,0,w,h);
			for(var i=0;i<y.length;i++){
				ctx.globalAlpha = y[i].o;
				ctx.fillStyle = color2;//$('body').css('background-color');
				ctx.beginPath();
				ctx.arc(y[i].x,y[i].y,y[i].r,0,Math.PI*2);
				ctx.closePath();
				ctx.fill();
				y[i].r+=b.r;
				y[i].o-=b.o;
				if(y[i].o<=0){
					y.splice(i,1);
					i--;
				};
			}
			window.requestAnimationFrame(begin);
		}
		function re(){
			w = window.innerWidth;
			h = window.innerHeight;
			canvas.width = w;
			canvas.height = h;
			cx = w/2;
			cy = h/2;
		};
		c.mousemove(function(e){
			cx = e.pageX-c.offset().left;
			cy = e.pageY-c.offset().top;
			
			y.push({x:cx,y:cy,r:b.r,o:1,v:0});
			
		});
		/*c.mousedown(function(){
			c.on('mousemove',function(e){
				cx = e.pageX-c.offset().left;
				cy = e.pageY-c.offset().top;
				y.push({x:cx,y:cy,r:b.r,o:1});
			});
			c.on('mouseup',function(){
				c.off('mouseup');
				c.off('mousemove');
				c.off('moseleave');
			});
			c.on('mouseleave',function(){
				c.off('mouseup');
				c.off('mousemove');
				c.off('moseleave');
			});
		});*/
		
		(function() {
			var lastTime = 0;
			var vendors = ['webkit', 'moz'];
			for(var xx = 0; xx < vendors.length && !window.requestAnimationFrame; ++xx) {
				window.requestAnimationFrame = window[vendors[xx] + 'RequestAnimationFrame'];
				window.cancelAnimationFrame = window[vendors[xx] + 'CancelAnimationFrame'] ||
											  window[vendors[xx] + 'CancelRequestAnimationFrame'];
			}
		
			if (!window.requestAnimationFrame) {
				window.requestAnimationFrame = function(callback, element) {
					var currTime = new Date().getTime();
					var timeToCall = Math.max(0, 16.7 - (currTime - lastTime));
					var id = window.setTimeout(function() {
						callback(currTime + timeToCall);
					}, timeToCall);
					lastTime = currTime + timeToCall;
					return id;
				};
			}
			if (!window.cancelAnimationFrame) {
				window.cancelAnimationFrame = function(id) {
					clearTimeout(id);
				};
			}
		}());
		begin();
});
function colorChange(obj,color,time){
	var goColor;
	if(color=='#FFF'){
		goColor='#000';
	}else if(color=='#F00'){
		goColor='#0F0';
	}else if(color=='#0F0'){
		goColor='#00F';
	}else if(color=='#00F'){
		goColor='#F00';
	}else{
		goColor='#FFF';
	}
	$(obj+'').animate({backgroundColor:color},time,'linear',function(){
		colorChange(obj,goColor,time);
	});
}
function go(id,zfx,zfy,time){
	var x,ox,y,oy;
	if(zfx=='+'){
		ox='+';
		x=Math.random()*distancex;
	}else if(zfx=='-'){
		ox='+';
		x=0;
	}
	if(zfy=='+'){
		oy='+';
		y=Math.random()*distancey;
	}else if(zfy=='-'){
		oy='+';
		y=0;
	}
	$('#'+id).animate(
		{left: zfx+x+'px',top:zfy+y+'px'}, 
		time,
		'linear',
		function(){
			go(id,ox,oy,3000);
		}
	);
}
</script>
<style type="text/css">
*{
	margin:0px;
	padding:0px;
}
.header_one_div{
	position: absolute;
}
.header_one_div a{
	display:block;
	margin:5px 3px;
    background-color: #999999;
	width:100px;
	height:50px;
	line-height:50px;
	text-align:center;
	color:#FFF;
	text-decoration: none;
	border-radius:50px/25px;
}
.header_one_div a:hover{
	background-color:#666666;
}
</style>
</head>
<body>
	<canvas id="c"></canvas>
	<div id="main">
		<div id="header">
			<div id="weiboDiv" class="header_one_div"><a href="http://weibo.com/2686459443/profile" target="_blank">weibo</a></div>
			<div id="zhihuDiv" class="header_one_div"><a href="https://www.zhihu.com/people/yuwenbin369" target="_blank">zhihu</a></div>
			<div id="hupuDiv" class="header_one_div"><a href="https://my.hupu.com/yuwb" target="_blank">hupu</a></div>
			<div id="githubDiv" class="header_one_div"><a href="https://github.com/ywb123" target="_blank">github</a></div>
			<div id="resumeDiv" class="header_one_div"><a href="https://ywb123.github.io/aboutMe/me/resume.html" target="_blank">resume</a></div>
			<div id="indexDiv" class="header_one_div"><a href="https://ywb123.github.io/aboutMe/index.html" target="_blank">index</a></div>
		</div>
	</div>
</body>
</html>
